<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Sunny the Queen</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@400;600;700&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="./style.css">
</head>
<body class="letter-page">
  <audio id="bgMusic" autoplay loop playsinline>
    <source src="./src/sound.mp3" type="audio/mpeg">
  </audio>
  <div class="night"></div>

  <main class="letter-stage">
    <div class="envelope-shell">
      <section class="letter-panel" aria-live="polite">
        <div class="letter-paper" id="letterPaper"></div>
      </section>
      <button class="envelope" type="button" aria-label="Open letter">
        <span class="envelope__body"></span>
        <span class="envelope__flap"></span>
        <span class="envelope__seal"></span>
      </button>
    </div>
  </main>

  <div class="bubbles" aria-hidden="true">
    <div class="bubble"><svg class="heart" viewBox="0 0 32 32"><title>heart22</title><path d="M23.6 2c-3.363 0-6.258 2.736-7.599 5.594-1.342-2.858-4.237-5.594-7.601-5.594-4.637 0-8.4 3.764-8.4 8.401 0 9.433 9.516 11.906 16.001 21.232 6.13-9.268 15.999-12.1 15.999-21.232 0-4.637-3.763-8.401-8.4-8.401z"></path></svg></div>
    <div class="bubble"><svg class="heart" viewBox="0 0 32 32"><title>heart22</title><path d="M23.6 2c-3.363 0-6.258 2.736-7.599 5.594-1.342-2.858-4.237-5.594-7.601-5.594-4.637 0-8.4 3.764-8.4 8.401 0 9.433 9.516 11.906 16.001 21.232 6.13-9.268 15.999-12.1 15.999-21.232 0-4.637-3.763-8.401-8.4-8.401z"></path></svg></div>
    <div class="bubble"><svg class="heart" viewBox="0 0 32 32"><title>heart22</title><path d="M23.6 2c-3.363 0-6.258 2.736-7.599 5.594-1.342-2.858-4.237-5.594-7.601-5.594-4.637 0-8.4 3.764-8.4 8.401 0 9.433 9.516 11.906 16.001 21.232 6.13-9.268 15.999-12.1 15.999-21.232 0-4.637-3.763-8.401-8.4-8.401z"></path></svg></div>
    <div class="bubble"><svg class="heart" viewBox="0 0 32 32"><title>heart22</title><path d="M23.6 2c-3.363 0-6.258 2.736-7.599 5.594-1.342-2.858-4.237-5.594-7.601-5.594-4.637 0-8.4 3.764-8.4 8.401 0 9.433 9.516 11.906 16.001 21.232 6.13-9.268 15.999-12.1 15.999-21.232 0-4.637-3.763-8.401-8.4-8.401z"></path></svg></div>
    <div class="bubble"><svg class="heart" viewBox="0 0 32 32"><title>heart22</title><path d="M23.6 2c-3.363 0-6.258 2.736-7.599 5.594-1.342-2.858-4.237-5.594-7.601-5.594-4.637 0-8.4 3.764-8.4 8.401 0 9.433 9.516 11.906 16.001 21.232 6.13-9.268 15.999-12.1 15.999-21.232 0-4.637-3.763-8.401-8.4-8.401z"></path></svg></div>
    <div class="bubble"><svg class="heart" viewBox="0 0 32 32"><title>heart22</title><path d="M23.6 2c-3.363 0-6.258 2.736-7.599 5.594-1.342-2.858-4.237-5.594-7.601-5.594-4.637 0-8.4 3.764-8.4 8.401 0 9.433 9.516 11.906 16.001 21.232 6.13-9.268 15.999-12.1 15.999-21.232 0-4.637-3.763-8.401-8.4-8.401z"></path></svg></div>
    <div class="bubble"><svg class="heart" viewBox="0 0 32 32"><title>heart22</title><path d="M23.6 2c-3.363 0-6.258 2.736-7.599 5.594-1.342-2.858-4.237-5.594-7.601-5.594-4.637 0-8.4 3.764-8.4 8.401 0 9.433 9.516 11.906 16.001 21.232 6.13-9.268 15.999-12.1 15.999-21.232 0-4.637-3.763-8.401-8.4-8.401z"></path></svg></div>
    <div class="bubble"><svg class="heart" viewBox="0 0 32 32"><title>heart22</title><path d="M23.6 2c-3.363 0-6.258 2.736-7.599 5.594-1.342-2.858-4.237-5.594-7.601-5.594-4.637 0-8.4 3.764-8.4 8.401 0 9.433 9.516 11.906 16.001 21.232 6.13-9.268 15.999-12.1 15.999-21.232 0-4.637-3.763-8.401-8.4-8.401z"></path></svg></div>
    <div class="bubble"><svg class="heart" viewBox="0 0 32 32"><title>heart22</title><path d="M23.6 2c-3.363 0-6.258 2.736-7.599 5.594-1.342-2.858-4.237-5.594-7.601-5.594-4.637 0-8.4 3.764-8.4 8.401 0 9.433 9.516 11.906 16.001 21.232 6.13-9.268 15.999-12.1 15.999-21.232 0-4.637-3.763-8.401-8.4-8.401z"></path></svg></div>
    <div class="bubble"><svg class="heart" viewBox="0 0 32 32"><title>heart22</title><path d="M23.6 2c-3.363 0-6.258 2.736-7.599 5.594-1.342-2.858-4.237-5.594-7.601-5.594-4.637 0-8.4 3.764-8.4 8.401 0 9.433 9.516 11.906 16.001 21.232 6.13-9.268 15.999-12.1 15.999-21.232 0-4.637-3.763-8.401-8.4-8.401z"></path></svg></div>
    <div class="bubble"><svg class="heart" viewBox="0 0 32 32"><title>heart22</title><path d="M23.6 2c-3.363 0-6.258 2.736-7.599 5.594-1.342-2.858-4.237-5.594-7.601-5.594-4.637 0-8.4 3.764-8.4 8.401 0 9.433 9.516 11.906 16.001 21.232 6.13-9.268 15.999-12.1 15.999-21.232 0-4.637-3.763-8.401-8.4-8.401z"></path></svg></div>
    <div class="bubble"><svg class="heart" viewBox="0 0 32 32"><title>heart22</title><path d="M23.6 2c-3.363 0-6.258 2.736-7.599 5.594-1.342-2.858-4.237-5.594-7.601-5.594-4.637 0-8.4 3.764-8.4 8.401 0 9.433 9.516 11.906 16.001 21.232 6.13-9.268 15.999-12.1 15.999-21.232 0-4.637-3.763-8.401-8.4-8.401z"></path></svg></div>
  </div>

  <script>
    const letterText = `Thanh Hóa, 14.02.2026

“Đây là Valentine đầu tiên, anh và em có nhau yêu nhau,
                                        sao em không ở bên anh ngay lúc này?”

Yêu ơi,

Hôm nay của công chúa thế nào, tớ nhớ cậu muốn chết, làm sao để cậu hiểu được nỗi nhớ này lớn chừng nào đây. Tớ ước gì mình có thể ở bên cậu mãi như vậy, được nằm hít hà cậu, được thơm má cậu, được nhìn thấy cậu mỗi sáng. Ở bên cậu, nằm cạnh cậu, mọi thứ thật nhẹ nhõm và bình yên làm sao.

Cũng vì vậy mà thỉnh thoảng nghĩ đến tớ lại sợ, tớ sợ mất cậu lắm. Nỗi sợ đó nhiều khi lại khiến tớ bị nhạy cảm quá và cả tức giận. Biết sao giờ, tớ chỉ muốn tâm trí cậu dành riêng cho mình, muốn cậu chỉ được nghĩ về mình, muốn cậu chọn tớ là người để chia sẻ đầu tiên dù là niềm vui hay nỗi buồn. Hãy cho tớ được phép ích kỷ với tình cảm của cậu.

Mọi chuyện thật kỳ diệu, tớ thấy thật may mắn khi thế giới đem cậu đến cho tớ. Đây là valentine đầu tiên của chúng mình nhỉ, vậy mà lại không được nắm tay nhau. Nhưng không sao hầy, tớ đã nghĩ 14 ngày này như honey moon của chúng mình. Thay vì cùng nhau đi du lịch, mình tạm xa nhau. Xa như này để biết mình thương nhớ nhau nhường nào, để thật sự cảm nhận. Để khoảng thời gian về sau, mình biết trân trọng nhau hơn.
Vì thương cậu, mà tớ muốn cậu biết, đến câu chữ của tớ trong tâm thư này, cũng rất yêu thương cậu!

Thương gửi,
Người mà cậu ghét nhất`;

    const bgMusic = document.getElementById("bgMusic");
    const envelope = document.querySelector(".envelope");
    const panel = document.querySelector(".letter-panel");
    const paper = document.getElementById("letterPaper");
    let typing = false;

    const typeLetter = () => {
      if (typing) return;
      typing = true;
      envelope.classList.add("is-open");
      panel.classList.add("is-visible");
      paper.textContent = "";
      let i = 0;

      const tick = () => {
        paper.textContent += letterText[i];
        i += 1;
        if (i < letterText.length) {
          const delay = letterText[i - 1] === "\n" ? 180 : 22;
          window.setTimeout(tick, delay);
        }
      };

      tick();
    };

    if (bgMusic) {
      bgMusic.volume = 0.25;
    }

    envelope.addEventListener("click", typeLetter);
  </script>
</body>
</html>
